<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jackfolio</title>
<link rel="stylesheet" href="style.css">
<style>
  /* Lightbox styling */
  .lightbox {
    display: none;
    position: fixed;
    z-index: 1000;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
  }

  .lightbox img {
    max-width: 90%;
    max-height: 80%;
    border-radius: 8px;
  }

  /* Close button */
  .close-btn {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 2rem;
    color: white;
    cursor: pointer;
    font-weight: bold;
    user-select: none;
    z-index: 1001;
  }

  .close-btn:hover {
    color: #aaa;
  }
</style>
</head>
<body>

<header>
  <h1>Jackfolio</h1>
  <nav>
    <a href="index.html">Gallery</a>
    <a href="sketch.html">Sketch</a>
    <a href="about.html">About</a>
    <a href="personal.html">Personal</a>
  </nav>
</header>

<div class="gallery" id="gallery"></div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <span class="close-btn" id="close-btn">&times;</span>
  <img id="lightbox-img" src="" alt="">
</div>

<footer>
  <p>© Jack 2025</p>
  <p>
    <a href="#">Twitter</a> |
    <a href="#">Instagram</a> |
    <a href="#">Facebook</a>
  </p>
</footer>

<script>
  const gallery = document.getElementById("gallery");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.getElementById("close-btn");

  // ✅ GitHub API for jack0fcodes/Folio
  const apiURL = "https://api.github.com/repos/jack0fcodes/Folio/contents/images";

  fetch(apiURL)
    .then(res => res.json())
    .then(files => {
      // filter images only
      let imageFiles = files.filter(file => file.name.match(/\.(png|jpg|jpeg|gif)$/i));

      // ✅ sort alphabetically (art1, art2, art3...)
      imageFiles.sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true, sensitivity: 'base' }));

      // display them
      imageFiles.forEach((file, index) => {
        const img = document.createElement("img");
        img.src = file.download_url;
        img.alt = "Artwork " + (index + 1);
        gallery.appendChild(img);

        // click → lightbox
        img.addEventListener("click", () => {
          lightbox.style.display = "flex";
          lightboxImg.src = img.src;
        });
      });
    })
    .catch(err => {
      console.error("Error fetching images:", err);
      gallery.innerHTML = "<p>⚠️ Could not load images.</p>";
    });

  // close on outside click
  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.style.display = "none";
    }
  });

  // close on X
  closeBtn.addEventListener("click", () => {
    lightbox.style.display = "none";
  });
</script>

</body>
</html>
